<launch>
	<arg name="frame"		default="map"/>
	<arg name="track"		default="dummy_cmd_vel"/>
	<arg name="net_id"		default="5"/>
	
	<arg name="conf_path_yaml"		default="$(dirname)/../rds/track.yaml"/>
	<arg name="conf_map_yaml" 		default="$(dirname)/../rds/map.yaml"/>
	<arg name="conf_map_io_yaml"		default="$(dirname)/../rds/map_io.yaml"/>
	<arg name="conf_buff_yaml"		default="$(dirname)/../rds/map_io2.yaml"/>
	<arg name="conf_command"        	default="$(dirname)/../rds/commander_default.yaml"/>
	
	<!-- Launch the autonomy -->
	<include file="$(find rds_map_nav)/launch/core/sr_control.launch">
		<!-- Behavior is specified in these configuration files -->
		<arg name="conf_path_yaml"		value="$(arg conf_path_yaml)"/>
		<arg name="conf_map_yaml" 		value="$(arg conf_map_yaml)"/>
		<arg name="conf_map_io_yaml"	value="$(arg conf_map_io_yaml)"/>
		<arg name="conf_buff_yaml"		value="$(arg conf_buff_yaml)"/>
		<arg name="conf_com_yaml" 		value="$(arg conf_command)"/>
		
		<!-- Specify if debug output should appear in the terminal -->
		<arg name="output" 			value="screen"/>
		<arg name="separate_input" 	value="true"/>
		<arg name="dynamic_targets"	value="true"/>
		<arg name="respawn"			value="true"/>
		<arg name="explore_loop"	value="true"/>
		<arg name="robot_net_id" 	value="$(arg net_id)"/>
		<arg name="hole_fill_enable" 	value="true"/>		

		<!-- Prefix of topics generated by autonomy package -->
		<arg name="group_name"		value="/rds"/>
		
		<!-- Coordinate frame of the mapping and also outputs generated by this system -->
		<arg name="frame_name"		value="$(arg frame)"/>	
		
		<arg name="tfr_enable"		default="true"/>
		<arg name="tfr_child"		default="X1"/>
		<arg name="tfr_hz"			default="16"/>

		<!-- Necessary topics to enable the autonomy -->
		<arg name="robot_odom"		value="/robot_gen_odom"/> 		<!-- Localization of the robot center -->
		<arg name="robot_cmd_vel"	value="$(arg track)"/>			<!-- Command velocity to drive the robot -->
		<arg name="cloud0"			value="/X1/points_filtered"/>		<!-- Input point cloud from sensor 0 -->
		<arg name="odom0"			value="/icp_odom"/>		<!-- Input sensor pose (this can be auto 
																	 generated from tfs, see sr_control.launch) -->
		<arg name="imu"				value="/X1/imu/data"/>
		<arg name="out1"			value="/rds/terrain_compressed"/>
	</include>

</launch>

